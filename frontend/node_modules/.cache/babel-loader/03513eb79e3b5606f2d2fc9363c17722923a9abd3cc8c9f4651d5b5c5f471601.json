{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import axios from'axios';import{jwtDecode}from'jwt-decode';import'../App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const handleLogin=async e=>{e.preventDefault();setError('');try{const res=await axios.post('http://localhost:5000/api/auth/login',{email,password});const token=res.data.token;localStorage.setItem('token',token);navigate('/dashboard');// ðŸ‘ˆ Only dashboard on login\n}catch(err){setError('Invalid credentials');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Learnify \"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your personalized path to becoming what you dream to be.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,required:true,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,required:true,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log In\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',marginTop:'10px'},children:error})]}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'1rem',textAlign:'center'},children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{textDecoration:'underline'},children:\"Register here\"})]})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","jwtDecode","jsx","_jsx","jsxs","_jsxs","Login","navigate","email","setEmail","password","setPassword","error","setError","handleLogin","e","preventDefault","res","post","token","data","localStorage","setItem","err","className","children","onSubmit","type","placeholder","value","required","onChange","target","style","color","marginTop","textAlign","to","textDecoration"],"sources":["D:/learning-path-generator/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {jwtDecode} from 'jwt-decode';\r\nimport '../App.css';\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const handleLogin = async (e) => {\r\n  e.preventDefault();\r\n  setError('');\r\n  try {\r\n    const res = await axios.post('http://localhost:5000/api/auth/login', {\r\n      email,\r\n      password\r\n    });\r\n    const token = res.data.token;\r\n    localStorage.setItem('token', token);\r\n\r\n    navigate('/dashboard');  // ðŸ‘ˆ Only dashboard on login\r\n  } catch (err) {\r\n    setError('Invalid credentials');\r\n  }\r\n};\r\n\r\n\r\n  return (<div className=\"login-wrapper\">\r\n    <div className=\"login-header\">\r\n      <h1>Welcome to Learnify </h1>\r\n      <p>Your personalized path to becoming what you dream to be.</p>\r\n    </div>\r\n\r\n    <div className=\"form-container\">\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          required\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Log In</button>\r\n        {error && <p style={{ color: 'red', marginTop: '10px' }}>{error}</p>}\r\n      </form>\r\n      <p style={{ marginTop: '1rem', textAlign: 'center' }}>\r\n        Don't have an account? <Link to=\"/register\" style={{ textDecoration: 'underline' }}>Register here</Link>\r\n      </p>\r\n    </div>\r\n  </div>\r\n);};\r\n    \r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}